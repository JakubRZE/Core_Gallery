@model UsersPhotosViewModel


@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>


<div class="container mt-5">

    <div class="row mt-4">
        <div class="col-3"></div>
        <div class="col-9 text-center text-white">
            <h4>My photos</h4>
        </div>
    </div>

    <div class="row">
        <div class="col-3 mt-5">

            <div class="bg-light round-borders p-2">
                <h4 class="text-center p-1 mt-4">Profile info</h4>
                <hr />
                <p> User name:  <strong>@Model.UserName</strong></p>
                <hr />
                <div>
                    <p class="d-inline-block mr-2"> Uploaded photos:</p>@Model.Count
                </div>
            </div>

            <div class="round-borders p-1 mt-1 text-center customLinkDiv">
                <a asp-page="./ChangePassword" class="navbar-light navbar-nav nav-link" style="color: black;">Change password.</a>
            </div>

        </div>

        <div class="col-9 text-center text-white">
            <div class="border mt-1 mb-0 p-0"></div>

            <div class="gallery-section mt-0 pt-4">
                <div class="inner-width">
                    <div class="gallery">

                        @foreach (var photo in Model.Photos)
                        {
                            <a href="@photo.Path" class="image">
                                <img src="@photo.Path" />
                            </a>
                        }

                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<script>
    $(".gallery").magnificPopup({
        delegate: 'a',
        type: 'image',
        gallery: {
            enabled:true
        }
    });

    @*var width = $(window).width();
    if ((width > 960) && (@Model.Count % 4 === 1)) {
        $("img:last").css('max-height', '250px');
    }
    else {
        $("img:last").css('max-height', '105px');
    }*@


    @*$(window).resize(function () {
        width = $(window).width();
        if ((width > 960) && (@Model.Count % 4 === 1)) {
            $("img:last").css('max-height', '250px');
        }
        else {
            $("img:last").css('max-height', '105px');
        }
    });*@
</script>

